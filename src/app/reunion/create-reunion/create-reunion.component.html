<div class="row">
  <h1>Création d'une réunion </h1>

  <hr>
  <div class="col-md-6">
    <form #newEvnmtForm="ngForm" (ngSubmit)="saveEvnmt(newEvnmtForm.value)" autocomplete="off" novalidate>
        <input type="hidden"   id="groupe_id" name="groupe_id" hide  [(ngModel)]="currentUser.groupe_id" />
      <div class="form-group" [ngClass]="{'error': newEvnmtForm.controls.nom?.invalid && newEvnmtForm.controls.nom?.touched}">
        <label for="nom">Titre:</label>
        <em *ngIf="newEvnmtForm.controls.nom?.invalid && (newEvnmtForm.controls.nom?.touched)">Required</em>
        <input (ngModel)="nom" name="nom" required id="nom" type="text" class="form-control" placeholder="Titre de la réunion..." />
      </div>
      <div class="form-group" [ngClass]="{'error': newEvnmtForm.controls.date?.invalid && newEvnmtForm.controls.date?.touched}">
        <label for="evnmtDate"> Date réunion :</label>
        <em *ngIf="newEvnmtForm.controls.date?.invalid && (newEvnmtForm.controls.date?.touched)">Required</em>
        <input (ngModel)="date" name="date" required id="evnmtDate" type="text" class="form-control" placeholder="format (yyyy/dd/mm)..." />
      </div>
      <div class="form-group" [ngClass]="{'error': newEvnmtForm.controls.hrdeb?.invalid && newEvnmtForm.controls.hrdeb?.touched}">
        <label for="evnmtTime"> Heure de début:</label>
        <em *ngIf="newEvnmtForm.controls.hrdeb?.invalid && (newEvnmtForm.controls.hrdeb?.touched)">Required</em>
        <input (ngModel)="hrdeb" name="hrdeb" required id="evnmtTime" type="text" class="form-control" placeholder="Heure de début..." />
      </div>

      <!--<div class="form-group" [ngClass]="{'error': newEvnmtForm.controls.location_id?.invalid && newEvnmtForm.controls.location_id?.touched}">
        <label for="location_id"> Adresse lieu:</label>
        <select (ngModel)="location_id" name="location_id" required id="location_id" class="form-control">
          <option *ngFor="let location of locations" value={{location.id}}>
            {{location.address}} - {{location.city}}  - {{location.country}}
          </option>
        </select>
      </div>-->

      <fieldset>
        <legend>Adresse </legend>
        <ol style="list-style: none;">
          <li>
            <label for=address> Numéro, rue, code postal: </label>
            <input (ngModel)="address" name="address" id="address" type="text" class="form-control" placeholder="addresse..." />
          </li>
          <li>
            <label for=city> Ville: </label>
            <input (ngModel)="city" name="city" id="city" type="text" class="form-control" placeholder="Ville..." />
          </li>
          <li>
            <label for=country> Pays: </label>
            <input (ngModel)="country" name="country" id="country" type="text" class="form-control" placeholder="Pays..." />
          </li>
        </ol>
      </fieldset>

      <div class="form-group" [ngClass]="{'error': newEvnmtForm.controls.statut?.invalid && newEvnmtForm.controls.statut?.touched}">
        <label for="evnmtStatut"> Statut:</label>
        <em *ngIf="newEvnmtForm.controls.statut?.invalid && (newEvnmtForm.controls.statut?.touched)">Required</em>
        <input (ngModel)="statut" name="statut" required id="evnmtStatut" type="text" class="form-control" placeholder="Heure de début..." />
      </div>

      <div class="form-group" [ngClass]="{'error': newEvnmtForm.controls.famaccueil?.invalid && newEvnmtForm.controls.famaccueil?.touched}">
        <label for="evnmtFamaccueil"> Famille d'accueil:</label>
        <em *ngIf="newEvnmtForm.controls.famaccueil?.invalid && (newEvnmtForm.controls.famaccueil?.touched)">Required</em>
        <input (ngModel)="famaccueil" name="famaccueil" required id="evnmtFamaccueil" type="text" class="form-control" placeholder="Heure de début..." />
      </div>


      <!-- Ajouter la routine pour enregistrer un fichier sur le serveur -->
      <div class="form-group" [ngClass]="{'error': newEvnmtForm.controls.rapport?.invalid && newEvnmtForm.controls.rapport?.touched}">
        <label for="evnmtRapport"> Chemin fichier rapport:</label>
        <em *ngIf="newEvnmtForm.controls.rapport?.invalid && (newEvnmtForm.controls.rapport?.touched)">Required</em>
        <input (ngModel)="rapport" name="rapport" required id="evnmtRapport" type="text" class="form-control" placeholder="Heure de début..." />
      </div>

      <div class="form-group" [ngClass]="{'error': newEvnmtForm.controls.descr?.invalid && newEvnmtForm.controls.descr?.touched}">
        <label for="evnmtDescr"> Description:</label>
        <em *ngIf="newEvnmtForm.controls.descr?.invalid && (newEvnmtForm.controls.descr?.touched)">Required</em>
        <input (ngModel)="descr" name="descr" required id="evnmtDescr" type="textarea" class="form-control" placeholder="Decription..." />
      </div>

      <div class="form-group" [ngClass]="{'error': newEvnmtForm.controls.contenu?.invalid && newEvnmtForm.controls.contenu?.touched}">
        <label for="evnmtContenu"> Contenu:</label>
        <em *ngIf="newEvnmtForm.controls.contenu?.invalid && (newEvnmtForm.controls.contenu?.touched)">Required</em>
        <input (ngModel)="contenu" name="contenu" required id="evnmtContenu" type="textarea" class="form-control" placeholder="Heure de début..." />
      </div>

      <button type="submit" [disabled]="newEvnmtForm.invalid" class="btn btn-primary">Save</button>
      <button type="button" class="btn btn-default" (click)="cancel()">Cancel</button>
    </form>
  </div>

  </div>
